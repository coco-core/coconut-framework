# todo
[] 单元测试
[] 让demo项目接近真实使用库的样子
[] shared中部分函数移走
[] 组合注解
[] 添加router
[] ts支持
[] reconciler包依赖了mvc包，其实reconciler包的单测是不好做的，能不能剥离掉？
[] jsx中使用组件可能会有问题？如果不手动import的话
[] aop

# qa
q:如何实现开发和打包
a:选用webpack打包，因为没有通常web app项目中入口文件，或者配置文件，也不需要引入组件，
coco-mvc负责生成一个入口文件，入口文件引入用到的组件，供webpack启动或打包

q: 注解基本实现思路
a: es只有装饰器，没有注解，所以通过装饰器+元数据达到类似注解的效果。
具体讲装饰器是一个函数，元数据是一个对象，装饰器在运行时将被装饰的类或方法和元数据关联起来
框架收集全部的元信息，提供接口给具体的业务来实现不同的功能。
上面提到元数据是一个对象，实际上是类的实例，通过类来定义元数据具体可用的数据，默认值等等

q: 元信息可以用装饰器吗？
a: 可以的。可以用于一个装饰器实现多个装饰器的功能。举例：有元属性A，元属性B，
元信息的定义：
// 元信息A
class A{}
decorator a(){}
// 元信息B
class B{}
decorator b(){}
现在要用一个元属性同时包含AB，也是可以的
@a('')
@b('')
class C{}
decorator c(){}
项目中的使用：
@c('')
class E{}
这种情况下：类E也关联了元数据a和b，和单独使用@a@b效果是一样的。

q: 那么如果组合的情况下，很有可能一个元信息可能关联很多元信息，那么运行时如何表示这种关联关系呢？
a: 
// 元信息A
class A{}
decorator a(){}
// 元信息B
class B{}
decorator b(){}
现在要用一个元属性同时包含AB，也是可以的
@a('')
@b('')
class C{}
decorator c(){}
项目中的使用：
@c('')
class E{}
首先，框架会记录C和a和b的关联关系，E和c的关联关系，现在关心E如何关联ab，有2种做法：
1. 执行c的时候，顺带把ABC实例都和E绑定了
2. 执行c的时候，只绑定C实例和E，不绑定AB，需要的时候在查到C绑定了ab，返回ab
选择1，这样会占更多的内存，但是有全部的关联关系，可以做一些检验

q: 元信息组合后循环了怎么办？例如：
// 元数据A
@b('')
class A{}
decorator a(){}

// 元数据B
@a('')
class B{}
decorator b(){}
a: 似乎不太可能出现，应该是编译不会通过  // todo 验证一下

q: 元信息可以用自己对应的装饰器装饰自己的吗？
a: 可以的，如果有必要的话。

q: 支持普通类上同一个装饰器进行多次装饰吗？
a: 暂时不用支持，重复装饰可以通过给装饰器传递更多的参数实现。
